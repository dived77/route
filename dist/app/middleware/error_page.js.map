{"version":3,"sources":["../../../app/middleware/error_page.js"],"names":["status","module","exports","ctx","next","indexOf","body","message","acceptJSON","error","render","errorPage"],"mappings":";;;;AACA,IAAMA,SAAS,CAAC,GAAD,EAAM,GAAN,CAAf;;AAEAC,OAAOC,OAAP,GAAiB,YAAM;AACnB;AAAA,2EAAO,iBAAyBC,GAAzB,EAA8BC,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACGA,MADH;;AAAA;AAAA,kCAEEJ,OAAOK,OAAP,CAAeF,IAAIH,MAAnB,IAA6B,CAAC,CAA/B,IAAqC,CAACG,IAAIG,IAF3C;AAAA;AAAA;AAAA;;AAGSC,mCAHT,GAGqBJ,GAHrB,CAGSI,OAHT;;AAICJ,gCAAIH,MAAJ,GAAaG,IAAIH,MAAjB;;AAJD,iCAKKG,IAAIK,UALT;AAAA;AAAA;AAAA;;AAMKL,gCAAIG,IAAJ,GAAW,EAAEG,OAAO,WAAT,EAAX;AANL;AAAA;;AAAA;AAAA;AAAA,mCAQWN,IAAIO,MAAJ,CAAW,eAAX,EAA4B,EAAED,OAAOF,OAAT,EAA5B,CARX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;;AAAA,iBAAsBI,SAAtB;AAAA;AAAA;;AAAA,eAAsBA,SAAtB;AAAA;AAYH,CAbD","file":"error_page.js","sourcesContent":["\nconst status = [404, 403];\n\nmodule.exports = () => {\n    return async function errorPage(ctx, next) {\n        await next();\n        if ((status.indexOf(ctx.status) > -1) && !ctx.body) {\n            const { message } = ctx;\n            ctx.status = ctx.status;\n            if (ctx.acceptJSON) {\n                ctx.body = { error: 'Not Found' };\n            } else {\n                await ctx.render('notify/notify', { error: message });\n            }\n        }\n    };\n};\n"]}